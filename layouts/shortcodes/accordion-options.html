{{/* 
(C) 2025 GoodData Corporation 

This shortcode gives codeblocks the option to change their collapsible threshold or to completely disable collapsing.

Usage:
-------
{{< accordion-options collapsible="false" >}}
Code block content goes here with **markdown** support.
{{< /accordion-options >}}

{{< accordion-options threshold="600" >}}
Code block content goes here with **markdown** support.
{{< /accordion-options >}}

Parameters:
------------
-- threshold (number): The pixel threshold at which the accordion collapses (only for non-collapsible accordions)
-- collapsible (boolean): Default is true, if false then the accordion cannot be collapsed

*/}}

{{ $threshold := .Get "threshold" }}
{{ $collapsible := ne (lower (printf "%v" (.Get "collapsible"))) "false" }}

<div class="accordion-options{{ if eq $collapsible false }} accordion-options--not-collapsible{{ end }}" {{ if and $threshold $collapsible }}data-threshold="{{ $threshold }}"{{ end }}>
    {{ .Inner | markdownify }}
</div>